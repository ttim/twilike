# Logfile created on Sun Oct 04 13:21:25 +0400 2009  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-04 13:21:34) [GET]
  [4;36;1mCache Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (2.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||theme1|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (29.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (6.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 13 AND `opinions`.`rating` = 1) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 6 AND `opinions`.`rating` = 1) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 5 AND `opinions`.`rating` = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 13 AND `opinions`.`rating` = -1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 6 AND `opinions`.`rating` = -1) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 5 AND `opinions`.`rating` = -1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 6) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 6) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 5) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 5) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
Rendered common/_navigation (10.0ms)
Rendered common/_search (17.0ms)
Rendered common/_langbar (9.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
Rendered common/_sidebar_last_opinions (228.0ms)
Rendered common/_sidebar (382.0ms)
Rendered common/_footer (11.0ms)
Completed in 2274ms (View: 1612, DB: 123) | 200 OK [http://localhost/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-04 13:21:38) [GET]
  [4;36;1mCache Columns (28.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (6.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline|||theme1') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (15.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mUser Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (18.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 14) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (14.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 12) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered common/_navigation (10.0ms)
Rendered common/_search (6.0ms)
Rendered common/_langbar (6.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
Rendered common/_sidebar_last_opinions (546.0ms)
Rendered common/_sidebar (604.0ms)
Rendered common/_footer (4.0ms)
Completed in 2150ms (View: 1832, DB: 145) | 200 OK [http://localhost/timeline]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-04 13:21:54) [GET]

ActionController::RoutingError (No route matches "/relicrpm" with {:method=>:get}):
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-04 13:21:59) [GET]
  [4;36;1mCache Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline|||theme1') LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (26.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mUser Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 14) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (6.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 12) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (6.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered common/_navigation (5.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
Rendered common/_sidebar_last_opinions (254.0ms)
Rendered common/_sidebar (301.0ms)
Rendered common/_footer (5.0ms)
Completed in 2772ms (View: 2424, DB: 103) | 200 OK [http://localhost/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-04 13:22:11) [GET]
  [4;36;1mCache Columns (19.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (3.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline|||theme1') LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (6.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (14.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mUser Columns (40.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (17.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 14) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (6.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 12) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;35;1mUser Load (4.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (20.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered common/_navigation (6.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
Rendered common/_sidebar_last_opinions (350.0ms)
Rendered common/_sidebar (380.0ms)
Rendered common/_footer (5.0ms)
Completed in 2333ms (View: 1979, DB: 171) | 200 OK [http://localhost/timeline]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-04 13:22:20) [GET]
  [4;36;1mCache Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (34.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline|||theme1') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (18.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mUser Columns (29.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 14) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 12) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
Rendered common/_sidebar_last_opinions (281.0ms)
Rendered common/_sidebar (327.0ms)
Rendered common/_footer (8.0ms)
Completed in 3061ms (View: 2788, DB: 146) | 200 OK [http://localhost/timeline]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-04 13:22:24) [GET]
  [4;36;1mCache Columns (31.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (7.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||theme1|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (9.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (22.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (12.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (54.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 13 AND `opinions`.`rating` = 1) [0m
  [4;35;1mSQL (5.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 6 AND `opinions`.`rating` = 1) [0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 5 AND `opinions`.`rating` = 1) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 13 AND `opinions`.`rating` = -1) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 6 AND `opinions`.`rating` = -1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 5 AND `opinions`.`rating` = -1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 6) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 6) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 5) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 5) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
Rendered common/_navigation (20.0ms)
Rendered common/_search (11.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
Rendered common/_sidebar_last_opinions (421.0ms)
Rendered common/_sidebar (473.0ms)
Rendered common/_footer (4.0ms)
Completed in 3162ms (View: 2317, DB: 203) | 200 OK [http://localhost/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#one (for 127.0.0.1 at 2009-10-04 13:22:27) [GET]
  Parameters: {"tweet_id"=>"4058597810"}
  [4;36;1mOpinion Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mOpinion Load (32.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`tweet_id` = '4058597810') ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/opinions
Rendering opinions/one
  [4;36;1mMovie Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (12.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 14) [0m
  [4;36;1mUser Columns (25.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (13.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (7.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
Rendered common/_sidebar_last_opinions (342.0ms)
Rendered common/_sidebar (382.0ms)
Rendered common/_footer (4.0ms)
Completed in 2926ms (View: 2741, DB: 117) | 200 OK [http://localhost/opinion/4058597810]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-04 13:23:58) [GET]
  [4;36;1mCache Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||theme1|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (18.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (14.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (23.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 13 AND `opinions`.`rating` = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 6 AND `opinions`.`rating` = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 5 AND `opinions`.`rating` = 1) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 13 AND `opinions`.`rating` = -1) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 6 AND `opinions`.`rating` = -1) [0m
  [4;35;1mSQL (5.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 5 AND `opinions`.`rating` = -1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 6) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 6) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 5) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 5) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
Rendered common/_navigation (6.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (5.0ms)
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
Rendered common/_sidebar_last_opinions (239.0ms)
Rendered common/_sidebar (265.0ms)
Rendered common/_footer (4.0ms)
Completed in 1801ms (View: 1436, DB: 127) | 200 OK [http://localhost/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-04 13:27:06) [GET]
  [4;36;1mCache Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (2.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||theme1|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 13 AND `opinions`.`rating` = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 6 AND `opinions`.`rating` = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 5 AND `opinions`.`rating` = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 13 AND `opinions`.`rating` = -1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 6 AND `opinions`.`rating` = -1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`movie_id` = 5 AND `opinions`.`rating` = -1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 6) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 6) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 5) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 5) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
Rendered common/_navigation (4.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 8) [0m
Rendered common/_sidebar_last_opinions (224.0ms)
Rendered common/_sidebar (249.0ms)
Rendered common/_footer (10.0ms)
Completed in 1695ms (View: 1354, DB: 77) | 200 OK [http://localhost/top]
