# Logfile created on Fri Oct 09 13:48:01 +0400 2009  [4;36;1mSQL (199.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (39.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 13:48:28) [GET]
Redirected to http://ru.twiliked.net:3000/
Filter chain halted as [:check_domain] rendered_or_redirected.
Completed in 238ms (DB: 238) | 301 Moved Permanently [http://localhost/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 13:48:28) [GET]
  [4;36;1mCache Columns (3877.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (210.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (272.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (40.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (804.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (10.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (620.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (12.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (16.0ms)
Rendered common/_search (42.0ms)
Rendered common/_langbar (12.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (174.0ms)
Rendered common/_sidebar (550.0ms)
Rendered common/_footer (37.0ms)
Completed in 9515ms (View: 1857, DB: 5874) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 13:50:57) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (24.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (20.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (5.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (855.0ms)
Rendered common/_sidebar (891.0ms)
Rendered common/_footer (3.0ms)
Completed in 3807ms (View: 3236, DB: 116) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 13:53:50) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (7.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (26.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (15.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (18.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (5.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (190.0ms)
Rendered common/_sidebar (218.0ms)
Rendered common/_footer (4.0ms)
Completed in 1992ms (View: 1672, DB: 126) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 13:54:13) [GET]
  [4;36;1mCache Columns (26.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (177.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (63.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (6.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (5.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (236.0ms)
Rendered common/_sidebar (269.0ms)
Rendered common/_footer (5.0ms)
Completed in 2341ms (View: 1790, DB: 324) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 13:54:29) [GET]
  [4;36;1mCache Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (40.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (15.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (307.0ms)
Rendered common/_sidebar (345.0ms)
Rendered common/_footer (4.0ms)
Completed in 3752ms (View: 3287, DB: 137) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 13:55:14) [GET]
  [4;36;1mCache Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (65.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (48.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (5.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (14.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (219.0ms)
Rendered common/_sidebar (255.0ms)
Rendered common/_footer (3.0ms)
Completed in 2750ms (View: 2339, DB: 171) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 13:55:23) [GET]
  [4;36;1mCache Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (2.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (88.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (13.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (11.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (300.0ms)
Rendered common/_sidebar (332.0ms)
Rendered common/_footer (4.0ms)
Completed in 2662ms (View: 1935, DB: 173) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 13:56:02) [GET]
  [4;36;1mCache Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (9.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (31.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (5.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (24.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (293.0ms)
Rendered common/_sidebar (334.0ms)
Rendered common/_footer (4.0ms)
Completed in 2479ms (View: 1912, DB: 138) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 13:56:15) [GET]
  [4;36;1mCache Columns (96.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (192.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (5.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (7.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (45.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (19.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (16.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (22.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (463.0ms)
Rendered common/_sidebar (499.0ms)
Rendered common/_footer (5.0ms)
Completed in 2677ms (View: 2010, DB: 441) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 13:56:50) [GET]
  [4;36;1mCache Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (9.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (65.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (29.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (96.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (343.0ms)
Rendered common/_sidebar (380.0ms)
Rendered common/_footer (10.0ms)
Completed in 3072ms (View: 2269, DB: 263) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:10:02) [GET]
  [4;36;1mCache Columns (22.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (2.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (28.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (9.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m

ActionView::TemplateError (No route matches {:action=>"movies", :controller=>"weekend"}) on line #3 of app/views/common/_navigation.html.erb:
1: <div class="navigation">
2:   <ul>
3:     <li><%= navigation_link('weekend', 'movies') %></li>
4:     <li><%= navigation_link('timeline', 'opinions') %></li>
5:     <li><%= navigation_link('top', 'opinions') %></li>
6:     <li><%= navigation_link('about', 'static') %></li>

    app/helpers/application_helper.rb:17:in `navigation_link'
    app/views/common/_navigation.html.erb:3
    app/views/common/_sidebar.html.erb:4
    app/views/layouts/opinions.html.erb:8
    app/views/layouts/opinions.html.erb:1
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (709.0ms)
Rendered rescues/_request_and_response (29.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:10:59) [GET]
  [4;36;1mCache Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (12.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (14.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (6.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m

ActionView::TemplateError (No route matches {:action=>"movies", :controller=>"weekend"}) on line #3 of app/views/common/_navigation.html.erb:
1: <div class="navigation">
2:   <ul>
3:     <li><%= navigation_link('weekend', 'movies') %></li>
4:     <li><%= navigation_link('timeline', 'opinions') %></li>
5:     <li><%= navigation_link('top', 'opinions') %></li>
6:     <li><%= navigation_link('about', 'static') %></li>

    app/helpers/application_helper.rb:17:in `navigation_link'
    app/views/common/_navigation.html.erb:3
    app/views/common/_sidebar.html.erb:4
    app/views/layouts/opinions.html.erb:8
    app/views/layouts/opinions.html.erb:1
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (464.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:12:59) [GET]
  [4;36;1mCache Columns (21.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (19.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (43.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (24.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (5.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (29.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (18.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (4.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m

ActionView::TemplateError (No route matches {:action=>"movies", :controller=>"weekend"}) on line #3 of app/views/common/_navigation.html.erb:
1: <div class="navigation">
2:   <ul>
3:     <li><%= navigation_link('weekend', 'movies') %></li>
4:     <li><%= navigation_link('timeline', 'opinions') %></li>
5:     <li><%= navigation_link('top', 'opinions') %></li>
6:     <li><%= navigation_link('about', 'static') %></li>

    app/helpers/application_helper.rb:17:in `navigation_link'
    app/views/common/_navigation.html.erb:3
    app/views/common/_sidebar.html.erb:4
    app/views/layouts/opinions.html.erb:8
    app/views/layouts/opinions.html.erb:1
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (383.0ms)
Rendered rescues/_request_and_response (6.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:13:07) [GET]
  [4;36;1mCache Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (12.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (20.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (27.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (43.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m

ActionView::TemplateError (No route matches {:action=>"movies", :controller=>"weekend"}) on line #3 of app/views/common/_navigation.html.erb:
1: <div class="navigation">
2:   <ul>
3:     <li><%= navigation_link('weekend', 'movies') %></li>
4:     <li><%= navigation_link('timeline', 'opinions') %></li>
5:     <li><%= navigation_link('top', 'opinions') %></li>
6:     <li><%= navigation_link('about', 'static') %></li>

    app/helpers/application_helper.rb:17:in `navigation_link'
    app/views/common/_navigation.html.erb:3
    app/views/common/_sidebar.html.erb:4
    app/views/layouts/opinions.html.erb:8
    app/views/layouts/opinions.html.erb:1
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (656.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:13:10) [GET]
  [4;36;1mCache Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (5.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (11.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (52.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (5.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (6.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (18.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (5.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m

ActionView::TemplateError (No route matches {:action=>"movies", :controller=>"weekend"}) on line #3 of app/views/common/_navigation.html.erb:
1: <div class="navigation">
2:   <ul>
3:     <li><%= navigation_link('weekend', 'movies') %></li>
4:     <li><%= navigation_link('timeline', 'opinions') %></li>
5:     <li><%= navigation_link('top', 'opinions') %></li>
6:     <li><%= navigation_link('about', 'static') %></li>

    app/helpers/application_helper.rb:17:in `navigation_link'
    app/views/common/_navigation.html.erb:3
    app/views/common/_sidebar.html.erb:4
    app/views/layouts/opinions.html.erb:8
    app/views/layouts/opinions.html.erb:1
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (504.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:14:10) [GET]
  [4;36;1mCache Columns (22.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (13.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (139.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (114.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (26.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (124.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (26.0ms)
Rendered common/_search (25.0ms)
Rendered common/_langbar (7.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (240.0ms)
Rendered common/_sidebar (393.0ms)
Rendered common/_footer (26.0ms)
Completed in 2995ms (View: 2392, DB: 479) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:14:29) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (5.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'en|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (17.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (34.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (8.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (7.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (258.0ms)
Rendered common/_sidebar (289.0ms)
Rendered common/_footer (4.0ms)
Completed in 1965ms (View: 1709, DB: 130) | 200 OK [http://en.twiliked.net/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:14:43) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (53.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'en|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (11.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (41.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (150.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (45.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (58.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (13.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (299.0ms)
Rendered common/_sidebar (343.0ms)
Rendered common/_footer (6.0ms)
Completed in 3744ms (View: 3033, DB: 410) | 200 OK [http://en.twiliked.net/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:15:04) [GET]
  [4;36;1mCache Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'en|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (25.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (18.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (14.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (557.0ms)
Rendered common/_sidebar (599.0ms)
Rendered common/_footer (6.0ms)
Completed in 2608ms (View: 2082, DB: 107) | 200 OK [http://en.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:15:15) [GET]
  [4;36;1mCache Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (9.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'en|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (147.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (108.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (93.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (99.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (14.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (320.0ms)
Rendered common/_sidebar (361.0ms)
Rendered common/_footer (5.0ms)
Completed in 3010ms (View: 2295, DB: 509) | 200 OK [http://en.twiliked.net/]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (6.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:15:35) [GET]
  [4;36;1mCache Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (2.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'en|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (34.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (49.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (26.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (30.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (11.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (285.0ms)
Rendered common/_sidebar (327.0ms)
Rendered common/_footer (5.0ms)
Completed in 2866ms (View: 2395, DB: 200) | 200 OK [http://en.twiliked.net/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:16:01) [GET]
  [4;36;1mCache Columns (124.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (23.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (54.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (14.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (64.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (31.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (53.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (14.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (12.0ms)
Rendered common/_search (6.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (497.0ms)
Rendered common/_sidebar (541.0ms)
Rendered common/_footer (5.0ms)
Completed in 2450ms (View: 1893, DB: 406) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:16:21) [GET]
  [4;36;1mCache Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (23.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (9.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (27.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (13.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (4.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (6.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (69.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (235.0ms)
Rendered common/_sidebar (328.0ms)
Rendered common/_footer (4.0ms)
Completed in 2767ms (View: 2325, DB: 144) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:16:29) [GET]
  [4;36;1mCache Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (12.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (5.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (80.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (25.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (8.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (12.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (539.0ms)
Rendered common/_sidebar (580.0ms)
Rendered common/_footer (5.0ms)
Completed in 3093ms (View: 2397, DB: 192) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:16:42) [GET]
  [4;36;1mCache Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (63.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (11.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (257.0ms)
Rendered common/_sidebar (292.0ms)
Rendered common/_footer (5.0ms)
Completed in 2694ms (View: 2232, DB: 158) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:16:52) [GET]
  [4;36;1mCache Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (14.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (48.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (27.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (10.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (298.0ms)
Rendered common/_sidebar (337.0ms)
Rendered common/_footer (5.0ms)
Completed in 3210ms (View: 2821, DB: 156) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:17:10) [GET]
  [4;36;1mCache Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (4.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (21.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (21.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (21.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (7.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (26.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (18.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (13.0ms)
Rendered common/_search (4.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (507.0ms)
Rendered common/_sidebar (553.0ms)
Rendered common/_footer (6.0ms)
Completed in 2793ms (View: 2351, DB: 166) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:17:26) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (12.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'en|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (21.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (19.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (20.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (228.0ms)
Rendered common/_sidebar (254.0ms)
Rendered common/_footer (3.0ms)
Completed in 1904ms (View: 1654, DB: 136) | 200 OK [http://en.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 14:17:30) [GET]
  [4;36;1mCache Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (17.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (11.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (476.0ms)
Rendered common/_sidebar (511.0ms)
Rendered common/_footer (5.0ms)
Completed in 2274ms (View: 1789, DB: 97) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#weekend (for 127.0.0.1 at 2009-10-09 14:19:19) [GET]

ActionView::MissingTemplate (Missing template movies/weekend.erb in view path app/views):
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
  F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
  -e:1:in `load'
  -e:1

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#weekend (for 127.0.0.1 at 2009-10-09 14:21:07) [GET]
Rendering template within layouts/application
Rendering movies/weekend
Completed in 185ms (View: 171, DB: 2) | 200 OK [http://ru.twiliked.net/weekend]
  [4;36;1mSQL (301.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (88.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#weekend (for 127.0.0.1 at 2009-10-09 23:19:41) [GET]
Redirected to http://ru.twiliked.net:3000/
Filter chain halted as [:check_domain] rendered_or_redirected.
Completed in 264ms (DB: 389) | 301 Moved Permanently [http://localhost/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#weekend (for 127.0.0.1 at 2009-10-09 23:19:42) [GET]
Rendering template within layouts/application
Rendering movies/weekend
Completed in 1318ms (View: 345, DB: 1) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 23:19:55) [GET]
  [4;36;1mCache Columns (450.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (78.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (116.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (36.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (43.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (7.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (54.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (11.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (13.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (22.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (18.0ms)
Rendered common/_search (7.0ms)
Rendered common/_langbar (7.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (262.0ms)
Rendered common/_sidebar (392.0ms)
Rendered common/_footer (34.0ms)
Completed in 2810ms (View: 1782, DB: 872) | 200 OK [http://ru.twiliked.net/timeline]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:20:03) [GET]
  Parameters: {"q"=>"Jx", "target"=>"movie"}
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (32.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Jx%')) [0m
  [4;36;1mUser Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (9.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Jx%') OR UPPER(screen_name) LIKE UPPER('%Jx%')) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Jx%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
Rendered common/_pagination (10.0ms)
Rendered movies/_search_movies (54.0ms)
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (427.0ms)
Rendered common/_sidebar (464.0ms)
Rendered common/_footer (5.0ms)
Completed in 851ms (View: 617, DB: 79) | 200 OK [http://ru.twiliked.net/search?q=Jx&target=movie]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:20:06) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (7.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;36;1mUser Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (35.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;35;1mOpinion Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':movie_id AND created_at > :min_created_atmin_created_atSat Oct 09 23:20:06 +040' at line 1: SELECT avg(conditionsmovie_id = :movie_id AND created_at > :min_created_atmin_created_atSat Oct 09 23:20:06 +0400 1999movie_id#<Movie:0x84dfb54>) AS avg_conditionsmovie_id_movie_id_and_created_at_min_created_atmin_created_atsat_oct_09_23_20_06_0400_1999movie_id_movie_0x84dfb54 FROM `opinions` [0m

ActionView::TemplateError (Mysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':movie_id AND created_at > :min_created_atmin_created_atSat Oct 09 23:20:06 +040' at line 1: SELECT avg(conditionsmovie_id = :movie_id AND created_at > :min_created_atmin_created_atSat Oct 09 23:20:06 +0400 1999movie_id#<Movie:0x84dfb54>) AS avg_conditionsmovie_id_movie_id_and_created_at_min_created_atmin_created_atsat_oct_09_23_20_06_0400_1999movie_id_movie_0x84dfb54 FROM `opinions` ) on line #21 of app/views/movies/_search_movies.html.erb:
18:           %>
19: 
20:           <% current.each do |movie| %>
21:               <%= render_cell :movie, :for_search, :movie => movie %>
22:           <% end %>
23:           
24:         </td>

    app/models/movie.rb:130:in `calc_rating'
    app/cells/movie_cell.rb:9:in `for_search'
    app/views/movies/_search_movies.html.erb:21
    app/views/movies/_search_movies.html.erb:20:in `each'
    app/views/movies/_search_movies.html.erb:20
    app/views/movies/_search_movies.html.erb:7:in `each'
    app/views/movies/_search_movies.html.erb:7
    app/views/movies/search.html.erb:19
    app/controllers/movies_controller.rb:31:in `search'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (378.0ms)
Rendered rescues/_request_and_response (8.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:21:07) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;35;1mMovie Columns (53.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mSQL (41.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;36;1mOpinion Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mSQL (85.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:21:07') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:21:07') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:21:07') [0m
Rendered common/_pagination (2.0ms)
Rendered movies/_search_movies (640.0ms)
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (258.0ms)
Rendered common/_sidebar (284.0ms)
Rendered common/_footer (6.0ms)
Completed in 1271ms (View: 871, DB: 219) | 200 OK [http://ru.twiliked.net/search?q=%D0%9E%D1%87&target=movie]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:23:41) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;36;1mMovie Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (9.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;36;1mUser Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (13.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;35;1mOpinion Columns (19.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:23:41') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:23:41') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:23:41') [0m
Rendered common/_pagination (1.0ms)
Rendered movies/_search_movies (535.0ms)
Rendered common/_navigation (7.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (3.0ms)
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (262.0ms)
Rendered common/_sidebar (283.0ms)
Rendered common/_footer (4.0ms)
Completed in 1002ms (View: 835, DB: 72) | 200 OK [http://ru.twiliked.net/search?q=%D0%9E%D1%87&target=movie]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:23:47) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;35;1mMovie Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mSQL (13.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;35;1mUser Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;36;1mOpinion Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:23:47') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:23:47') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:23:47') [0m
Rendered common/_pagination (2.0ms)
Rendered movies/_search_movies (297.0ms)
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (275.0ms)
Rendered common/_sidebar (307.0ms)
Rendered common/_footer (4.0ms)
Completed in 939ms (View: 657, DB: 60) | 200 OK [http://ru.twiliked.net/search?q=%D0%9E%D1%87&target=movie]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:24:38) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (9.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;36;1mUser Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (14.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;35;1mOpinion Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:24:38') [0m

ActionView::TemplateError (undefined local variable or method `arg' for #<#<Class:0x862fc98>:0x862fc48>) on line #10 of app/cells/movie/for_top.html.erb:
7:     <table>
8:       <tr>
9:         <td class = "rating">
10:           <%= sprintf("%.#{arg}f", @rating) %>%
11:         </td>
12: 
13:         <td class = "movie_name">

    app/cells/movie/for_top.html.erb:10
    app/views/movies/_search_movies.html.erb:21
    app/views/movies/_search_movies.html.erb:20:in `each'
    app/views/movies/_search_movies.html.erb:20
    app/views/movies/_search_movies.html.erb:7:in `each'
    app/views/movies/_search_movies.html.erb:7
    app/views/movies/search.html.erb:19
    app/controllers/movies_controller.rb:31:in `search'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (303.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:24:59) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;35;1mMovie Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mSQL (19.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (58.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;36;1mOpinion Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:25:00') [0m

ActionView::TemplateError (undefined local variable or method `arg' for #<#<Class:0x84c87ec>:0x84c879c>) on line #10 of app/cells/movie/for_top.html.erb:
7:     <table>
8:       <tr>
9:         <td class = "rating">
10:           <%= sprintf("%.#{arg}f", @rating) %>%
11:         </td>
12: 
13:         <td class = "movie_name">

    app/cells/movie/for_top.html.erb:10
    app/views/movies/_search_movies.html.erb:21
    app/views/movies/_search_movies.html.erb:20:in `each'
    app/views/movies/_search_movies.html.erb:20
    app/views/movies/_search_movies.html.erb:7:in `each'
    app/views/movies/_search_movies.html.erb:7
    app/views/movies/search.html.erb:19
    app/controllers/movies_controller.rb:31:in `search'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (357.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:25:17) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (32.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;36;1mUser Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (13.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;35;1mOpinion Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:25:17') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:25:17') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:25:17') [0m
Rendered common/_pagination (1.0ms)
Rendered movies/_search_movies (413.0ms)
Rendered common/_navigation (5.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (3.0ms)
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (229.0ms)
Rendered common/_sidebar (248.0ms)
Rendered common/_footer (4.0ms)
Completed in 869ms (View: 689, DB: 85) | 200 OK [http://ru.twiliked.net/search?q=%D0%9E%D1%87&target=movie]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:25:36) [GET]
  [4;35;1mCache Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (4.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (59.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (6.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:131:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (299.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:26:22) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;36;1mMovie Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;35;1mOpinion Columns (55.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:26:22') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:26:22') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:26:22') [0m
Rendered common/_pagination (1.0ms)
Rendered movies/_search_movies (631.0ms)
Rendered common/_navigation (5.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (231.0ms)
Rendered common/_sidebar (251.0ms)
Rendered common/_footer (3.0ms)
Completed in 1155ms (View: 879, DB: 106) | 200 OK [http://ru.twiliked.net/search?q=%D0%9E%D1%87&target=movie]
  [4;35;1mSQL (3.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:26:28) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;35;1mMovie Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;35;1mUser Columns (18.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;36;1mOpinion Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:26:29') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:26:29') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:26:29') [0m
Rendered common/_pagination (2.0ms)
Rendered movies/_search_movies (592.0ms)
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (275.0ms)
Rendered common/_sidebar (305.0ms)
Rendered common/_footer (6.0ms)
Completed in 1203ms (View: 936, DB: 66) | 200 OK [http://ru.twiliked.net/search?q=%D0%9E%D1%87&target=movie]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (3.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:26:34) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;36;1mMovie Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (23.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;36;1mUser Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (18.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;35;1mOpinion Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:26:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:26:35') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:26:35') [0m
Rendered common/_pagination (2.0ms)
Rendered movies/_search_movies (317.0ms)
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (302.0ms)
Rendered common/_sidebar (336.0ms)
Rendered common/_footer (4.0ms)
Completed in 1032ms (View: 725, DB: 94) | 200 OK [http://ru.twiliked.net/search?q=%D0%9E%D1%87&target=movie]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:26:46) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;35;1mMovie Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (14.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;36;1mOpinion Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:26:46') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:26:47') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:26:47') [0m
Rendered common/_pagination (1.0ms)
Rendered movies/_search_movies (249.0ms)
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (246.0ms)
Rendered common/_sidebar (271.0ms)
Rendered common/_footer (4.0ms)
Completed in 748ms (View: 555, DB: 63) | 200 OK [http://ru.twiliked.net/search?q=%D0%9E%D1%87&target=movie]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (23.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:26:53) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;36;1mMovie Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (17.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;36;1mUser Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;35;1mOpinion Columns (71.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:26:53') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:26:53') [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:26:53') [0m
Rendered common/_pagination (2.0ms)
Rendered movies/_search_movies (464.0ms)
Rendered common/_navigation (11.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (332.0ms)
Rendered common/_sidebar (370.0ms)
Rendered common/_footer (4.0ms)
Completed in 1165ms (View: 812, DB: 155) | 200 OK [http://ru.twiliked.net/search?q=%D0%9E%D1%87&target=movie]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:27:00) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;35;1mMovie Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mSQL (20.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;35;1mUser Columns (27.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;35;1mMovie Load (17.0ms)[0m   [0mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;36;1mOpinion Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:27:01') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:27:01') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:27:01') [0m
Rendered common/_pagination (2.0ms)
Rendered movies/_search_movies (378.0ms)
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (525.0ms)
Rendered common/_sidebar (593.0ms)
Rendered common/_footer (4.0ms)
Completed in 1451ms (View: 1037, DB: 97) | 200 OK [http://ru.twiliked.net/search?q=%D0%9E%D1%87&target=movie]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:27:28) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;36;1mMovie Columns (46.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;36;1mUser Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;35;1mOpinion Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:27:28') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:27:28') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:27:28') [0m
Rendered common/_pagination (2.0ms)
Rendered movies/_search_movies (498.0ms)
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (345.0ms)
Rendered common/_sidebar (599.0ms)
Rendered common/_footer (5.0ms)
Completed in 1493ms (View: 1152, DB: 80) | 200 OK [http://ru.twiliked.net/search?q=%D0%9E%D1%87&target=movie]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:27:38) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;35;1mMovie Columns (21.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;35;1mUser Columns (26.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;35;1mMovie Load (18.0ms)[0m   [0mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;36;1mOpinion Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mSQL (8.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:27:38') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:27:38') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:27:38') [0m
Rendered common/_pagination (2.0ms)
Rendered movies/_search_movies (619.0ms)
Rendered common/_navigation (13.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (13.0ms)
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (311.0ms)
Rendered common/_sidebar (368.0ms)
Rendered common/_footer (4.0ms)
Completed in 1323ms (View: 1019, DB: 105) | 200 OK [http://ru.twiliked.net/search?q=%D0%9E%D1%87&target=movie]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:28:10) [GET]
  Parameters: {"q"=>"Оч", "target"=>"movie"}
  [4;36;1mMovie Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) [0m
  [4;36;1mUser Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%Оч%') OR UPPER(screen_name) LIKE UPPER('%Оч%')) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%Оч%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;35;1mOpinion Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:28:11') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:28:11') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:28:11') [0m
Rendered common/_pagination (2.0ms)
Rendered movies/_search_movies (357.0ms)
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (320.0ms)
Rendered common/_sidebar (356.0ms)
Rendered common/_footer (4.0ms)
Completed in 1397ms (View: 769, DB: 58) | 200 OK [http://ru.twiliked.net/search?q=%D0%9E%D1%87&target=movie]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:28:14) [GET]
  [4;35;1mCache Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (1.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (15.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (11.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (5.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:131:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (258.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:29:27) [GET]
  [4;36;1mCache Columns (29.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (9.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:131:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (208.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:29:36) [GET]
  [4;35;1mCache Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (1.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (22.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (9.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (5.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (5.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (9.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (24.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (37.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:131:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (1358.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:29:54) [GET]
  [4;36;1mCache Columns (23.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (3.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (129.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (34.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (9.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (60.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (20.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (70.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:131:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (362.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:31:06) [GET]
  [4;35;1mCache Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (1.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (9.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (5.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (5.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (12.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:131:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (240.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:31:20) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (8.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (21.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (27.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (20.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:132:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (826.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:31:25) [GET]
  [4;35;1mCache Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (1.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (4.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (39.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (41.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (16.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:132:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (259.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:31:36) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (5.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (10.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (12.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:131:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (225.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:31:40) [GET]
  [4;35;1mCache Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (6.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (43.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (68.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (51.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (100.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:131:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (396.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:32:09) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (26.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (35.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (49.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (11.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:132:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (241.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:32:14) [GET]
  [4;35;1mCache Columns (33.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (14.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (32.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (31.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (15.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (11.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (23.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (39.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (7.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (9.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:132:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (295.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:33:24) [GET]
  [4;36;1mCache Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (9.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (46.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (112.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (59.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (19.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:132:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (235.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:36:24) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (7.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (no implicit conversion to float from nil) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:131:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (230.0ms)
Rendered rescues/_request_and_response (6.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (2.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:38:05) [GET]
  [4;35;1mCache Columns (26.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (10.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (54.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (26.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:38:06') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:8497e08,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (759.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:39:12) [GET]
  [4;35;1mCache Columns (29.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (9.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (4.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (14.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (7.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (13.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (7.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (49.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (5.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:39:13') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:8587d04,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (202.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:39:48) [GET]
  [4;35;1mCache Columns (20.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (1.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (18.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (10.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (5.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:39:49') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:86a95ac,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (257.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:40:13) [GET]
  [4;35;1mCache Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (5.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (44.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (12.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (14.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:40:13') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:844b24c,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (437.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (3.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:40:29) [GET]
  [4;35;1mCache Columns (35.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (19.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (32.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (10.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (20.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (20.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:40:30') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:856702c,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (357.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:40:42) [GET]
  [4;35;1mCache Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (1.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (12.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (36.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (24.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (11.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (17.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:40:43') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:864ebfc,'0.0',4(16)>) on line #14 of app/views/opinions/top.html.erb:
11:       <h2><%= t 'top.worst_movies' %></h2>
12: 
13:       <% @worst_movies.each do |movie| %>
14:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
15:       <% end %>
16:     </td>
17: 

    app/views/opinions/top.html.erb:14
    app/views/opinions/top.html.erb:13:in `each'
    app/views/opinions/top.html.erb:13
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (380.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:41:10) [GET]
  [4;35;1mCache Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (8.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (17.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (6.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (68.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (wrong number of arguments (1 for 0)) on line #10 of app/cells/movie/for_top.html.erb:
7:     <table>
8:       <tr>
9:         <td class = "rating" style = "font-size: 2em">
10:           <%= unless @rating then @rating.to_s(1) else "--.-" end %>%
11:         </td>
12: 
13:         <td class = "movie_name">

    app/cells/movie/for_top.html.erb:10:in `to_s'
    app/cells/movie/for_top.html.erb:10
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (229.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:41:30) [GET]
  [4;36;1mCache Columns (20.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (4.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (14.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (9.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:41:30') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:849ce58,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (561.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:42:03) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (38.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (6.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (10.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (6.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:42:04') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:85da748,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (405.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:42:28) [GET]
  [4;36;1mCache Columns (64.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (6.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (35.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (20.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:42:29') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:86fb424,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (370.0ms)
Rendered rescues/_request_and_response (5.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:42:53) [GET]
  [4;36;1mCache Columns (33.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (27.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (18.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (56.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (58.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (8.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (5.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (77.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (5.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (5.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:42:54') [0m

ActionView::TemplateError (can't convert BigDecimal into String) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:136:in `+'
    app/models/movie.rb:136:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (770.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:43:04) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (8.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (27.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (58.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (31.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (5.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (13.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:43:05') [0m

ActionView::TemplateError (can't convert BigDecimal into String) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/models/movie.rb:136:in `+'
    app/models/movie.rb:136:in `calc_rating'
    app/cells/movie_cell.rb:21:in `for_top'
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (437.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (5.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:43:11) [GET]
  [4;36;1mCache Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (2.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (42.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (8.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (25.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (5.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (6.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:43:13') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:86cb0bc,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (411.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:43:54) [GET]
  [4;36;1mCache Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (5.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (5.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (13.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (19.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:43:55') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:846a034,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (447.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:44:56) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (5.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:44:57') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:8747414,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (220.0ms)
Rendered rescues/_request_and_response (5.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:45:12) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (5.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (19.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (12.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:45:12') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:84c9da4,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (389.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:45:47) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (6.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (14.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:45:48') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:88379c8,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (205.0ms)
Rendered rescues/_request_and_response (6.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:45:51) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (6.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (13.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:45:51') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:85bc414,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (380.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:45:54) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (5.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (51.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (11.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (14.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:45:54') [0m

ActionView::TemplateError (undefined method `[]' for #<BigDecimal:86ba3ac,'0.1E3',4(16)>) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (210.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:46:17) [GET]
  [4;36;1mCache Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (38.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (17.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (23.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (7.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (5.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (20.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:46:17') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:46:17') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:46:17') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:46:17') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:46:17') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:46:18') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:46:18') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:46:18') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:46:18') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:46:18') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (14.0ms)
Rendered common/_search (9.0ms)
Rendered common/_langbar (7.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (187.0ms)
Rendered common/_sidebar (298.0ms)
Rendered common/_footer (45.0ms)
Completed in 2168ms (View: 1554, DB: 224) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (4.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:46:34) [GET]
  [4;36;1mCache Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (30.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (20.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (7.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (9.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (6.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (5.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:46:34') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:46:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:46:35') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:46:35') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:46:35') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:46:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:46:35') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:46:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:46:35') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:46:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (179.0ms)
Rendered common/_sidebar (200.0ms)
Rendered common/_footer (3.0ms)
Completed in 2258ms (View: 1592, DB: 179) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:46:53) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (3.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (17.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (9.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (20.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:46:54') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:46:54') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:46:54') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:46:54') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:46:54') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:46:55') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:46:55') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:46:55') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:46:55') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:46:55') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (13.0ms)
Rendered common/_search (4.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (246.0ms)
Rendered common/_sidebar (293.0ms)
Rendered common/_footer (5.0ms)
Completed in 2560ms (View: 1969, DB: 130) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:47:29) [GET]
  [4;36;1mCache Columns (33.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (17.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (67.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (41.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (86.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:47:31') [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:47:31') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:47:31') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:47:31') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:47:31') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:47:31') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:47:31') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:47:31') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:47:31') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:47:32') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (4.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (1109.0ms)
Rendered common/_sidebar (1150.0ms)
Rendered common/_footer (8.0ms)
Completed in 4208ms (View: 2913, DB: 336) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:48:01) [GET]
  [4;36;1mCache Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (20.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (15.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (18.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (36.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (23.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:48:02') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:48:03') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:48:03') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:48:03') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:48:03') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:48:03') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:48:03') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:48:03') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:48:03') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:48:03') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (10.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (489.0ms)
Rendered common/_sidebar (518.0ms)
Rendered common/_footer (4.0ms)
Completed in 2841ms (View: 2171, DB: 205) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:48:10) [GET]
  [4;36;1mCache Columns (29.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (33.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (48.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:48:11') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:48:11') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:48:11') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:48:11') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:48:12') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:48:12') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:48:12') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:48:12') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:48:12') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:48:12') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (5.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (242.0ms)
Rendered common/_sidebar (271.0ms)
Rendered common/_footer (4.0ms)
Completed in 2914ms (View: 2154, DB: 197) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:48:19) [GET]
  [4;36;1mCache Columns (20.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (5.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (6.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (7.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (5.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:48:20') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:48:20') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:48:20') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:48:20') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:48:20') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:48:20') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:48:20') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:48:21') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:48:21') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:48:21') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (12.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (266.0ms)
Rendered common/_sidebar (303.0ms)
Rendered common/_footer (5.0ms)
Completed in 2984ms (View: 2166, DB: 144) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (6.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:48:44) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (32.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (23.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:48:45') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:48:45') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:48:45') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:48:45') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:48:45') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:48:45') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:48:46') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:48:46') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:48:46') [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:48:46') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (219.0ms)
Rendered common/_sidebar (252.0ms)
Rendered common/_footer (4.0ms)
Completed in 2662ms (View: 1761, DB: 152) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (6.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:48:54) [GET]
  [4;36;1mCache Columns (23.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (7.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (36.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (194.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (13.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:48:55') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:48:56') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:48:56') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:48:56') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:48:56') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:48:56') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:48:56') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:48:56') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:48:56') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:48:56') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (7.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (247.0ms)
Rendered common/_sidebar (286.0ms)
Rendered common/_footer (13.0ms)
Completed in 3220ms (View: 2338, DB: 361) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:49:05) [GET]
  [4;36;1mCache Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (11.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (8.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (9.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (10.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (9.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (37.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:49:06') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:49:06') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:49:06') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:49:06') [0m
  [4;35;1mSQL (4.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:49:06') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:49:06') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:49:06') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:49:06') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:49:06') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:49:07') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (12.0ms)
Rendered common/_search (9.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (262.0ms)
Rendered common/_sidebar (304.0ms)
Rendered common/_footer (4.0ms)
Completed in 3006ms (View: 2244, DB: 192) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:49:18) [GET]
  [4;36;1mCache Columns (107.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (11.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (32.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (73.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (12.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (7.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (43.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (14.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:49:19') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:49:19') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:49:19') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:49:19') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:49:19') [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:49:19') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:49:20') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:49:20') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:49:20') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:49:20') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (14.0ms)
Rendered common/_search (5.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (237.0ms)
Rendered common/_sidebar (279.0ms)
Rendered common/_footer (3.0ms)
Completed in 2808ms (View: 2054, DB: 366) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:49:26) [GET]
  [4;36;1mCache Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (4.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (48.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (40.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (10.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (7.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:49:27') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:49:27') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:49:27') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:49:27') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:49:27') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:49:28') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:49:28') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:49:28') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:49:28') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:49:28') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (10.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (238.0ms)
Rendered common/_sidebar (275.0ms)
Rendered common/_footer (3.0ms)
Completed in 2964ms (View: 2056, DB: 190) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:49:34) [GET]
  [4;36;1mCache Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (13.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (5.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (40.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (27.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (7.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (7.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (8.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (23.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (20.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (5.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:49:34') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:49:35') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:49:35') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:49:35') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:49:35') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:49:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:49:35') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:49:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:49:35') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:49:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (10.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (458.0ms)
Rendered common/_sidebar (489.0ms)
Rendered common/_footer (7.0ms)
Completed in 3005ms (View: 2226, DB: 239) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:49:42) [GET]
  [4;36;1mCache Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (17.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (8.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (87.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (33.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:49:43') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:49:43') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:49:43') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:49:43') [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:49:44') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:49:44') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:49:44') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:49:44') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:49:44') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:49:44') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (9.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (274.0ms)
Rendered common/_sidebar (306.0ms)
Rendered common/_footer (5.0ms)
Completed in 3050ms (View: 2277, DB: 245) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:49:51) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (29.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (18.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:49:52') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:49:52') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:49:52') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:49:52') [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:49:52') [0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:49:52') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:49:53') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:49:53') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:49:53') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:49:53') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (194.0ms)
Rendered common/_sidebar (220.0ms)
Rendered common/_footer (3.0ms)
Completed in 2087ms (View: 1590, DB: 151) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:50:32) [GET]
  [4;36;1mCache Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (2.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (5.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (4.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:50:33') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:50:33') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:50:33') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:50:33') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:50:33') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:50:33') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:50:33') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:50:33') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:50:33') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:50:33') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (171.0ms)
Rendered common/_sidebar (193.0ms)
Rendered common/_footer (3.0ms)
Completed in 1967ms (View: 1301, DB: 115) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:50:46) [GET]
  [4;36;1mCache Columns (48.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (5.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (8.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (26.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:50:47') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:50:47') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:50:47') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:50:47') [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:50:47') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:50:47') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:50:47') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:50:47') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:50:47') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:50:47') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (4.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (257.0ms)
Rendered common/_sidebar (288.0ms)
Rendered common/_footer (4.0ms)
Completed in 2047ms (View: 1556, DB: 165) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:52:09) [GET]
  [4;36;1mCache Columns (32.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (6.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (5.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (9.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (9.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (88.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:52:10') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:52:10') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:52:10') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:52:10') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:52:10') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:52:10') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:52:10') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:52:10') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:52:10') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:52:10') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (6.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (199.0ms)
Rendered common/_sidebar (219.0ms)
Rendered common/_footer (4.0ms)
Completed in 2682ms (View: 1831, DB: 244) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:52:26) [GET]
  [4;36;1mCache Columns (38.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (2.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (6.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (21.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (53.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (40.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (8.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (10.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (22.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:52:27') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:52:27') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:52:27') [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:52:27') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:52:27') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:52:27') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:52:28') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:52:28') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:52:28') [0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:52:28') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (228.0ms)
Rendered common/_sidebar (255.0ms)
Rendered common/_footer (4.0ms)
Completed in 2569ms (View: 1900, DB: 276) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:52:42) [GET]
  [4;36;1mCache Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (32.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (21.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (24.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (9.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (18.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:52:43') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:52:43') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:52:43') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:52:43') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:52:43') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:52:43') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:52:44') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:52:44') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:52:44') [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:52:44') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (423.0ms)
Rendered common/_sidebar (530.0ms)
Rendered common/_footer (5.0ms)
Completed in 6087ms (View: 4870, DB: 185) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:53:05) [GET]
  [4;36;1mCache Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (41.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (85.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (78.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (29.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (5.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (11.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:53:06') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:53:07') [0m
  [4;35;1mSQL (7.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:53:07') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:53:08') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:53:08') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:53:08') [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:53:08') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:53:08') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:53:08') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:53:08') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (5.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (6.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (534.0ms)
Rendered common/_sidebar (578.0ms)
Rendered common/_footer (7.0ms)
Completed in 4236ms (View: 3116, DB: 350) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:53:54) [GET]
  [4;36;1mCache Columns (30.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (23.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (18.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (5.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (26.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (5.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (10.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (4.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:53:55') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:53:55') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:53:56') [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:53:56') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:53:56') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:53:56') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:53:56') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:53:56') [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:53:56') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:53:56') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (8.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (5.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (576.0ms)
Rendered common/_sidebar (610.0ms)
Rendered common/_footer (4.0ms)
Completed in 3846ms (View: 3113, DB: 236) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:54:05) [GET]
  [4;36;1mCache Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (52.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (62.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (14.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (23.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (5.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (21.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (19.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:54:06') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:54:06') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:54:06') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:54:06') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:54:06') [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:54:06') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:54:07') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:54:07') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:54:07') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:54:07') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (4.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (4.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (219.0ms)
Rendered common/_sidebar (254.0ms)
Rendered common/_footer (4.0ms)
Completed in 2468ms (View: 1648, DB: 292) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:54:29) [GET]
  [4;36;1mCache Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (3.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (25.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:54:29') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:54:29') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:54:29') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:54:30') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:54:30') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:54:30') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:54:30') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:54:30') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:54:30') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:54:30') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (6.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (1.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (179.0ms)
Rendered common/_sidebar (201.0ms)
Rendered common/_footer (4.0ms)
Completed in 2000ms (View: 1419, DB: 132) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:55:10) [GET]
  [4;36;1mCache Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (82.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (9.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (10.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (9.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (32.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (23.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:55:11') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:55:11') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:55:11') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:55:11') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:55:11') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:55:11') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:55:11') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:55:11') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:55:12') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:55:12') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (178.0ms)
Rendered common/_sidebar (199.0ms)
Rendered common/_footer (3.0ms)
Completed in 2515ms (View: 1629, DB: 282) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:55:21) [GET]
  [4;36;1mCache Columns (25.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (2.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (8.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (44.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (12.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (34.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (7.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (8.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:55:23') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:55:23') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:55:23') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:55:23') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:55:23') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:55:23') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:55:23') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:55:23') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:55:23') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:55:23') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (7.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (207.0ms)
Rendered common/_sidebar (235.0ms)
Rendered common/_footer (5.0ms)
Completed in 3195ms (View: 2054, DB: 217) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:55:33) [GET]
  Parameters: {"q"=>"при", "target"=>"movie"}
  [4;36;1mMovie Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (11.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%при%')) [0m
  [4;36;1mUser Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (17.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%при%') OR UPPER(screen_name) LIKE UPPER('%при%')) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%при%')) LIMIT 0, 12[0m
Rendering template within layouts/opinions
Rendering movies/search
Rendered common/_pagination (4.0ms)
Rendered movies/_search_movies (33.0ms)
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;35;1mOpinion Load (3.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (378.0ms)
Rendered common/_sidebar (410.0ms)
Rendered common/_footer (4.0ms)
Completed in 738ms (View: 526, DB: 71) | 200 OK [http://ru.twiliked.net/search?q=%D0%BF%D1%80%D0%B8&target=movie]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:55:36) [GET]
  Parameters: {"q"=>"", "target"=>"movie"}
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (11.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) [0m
  [4;36;1mUser Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (11.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%%') OR UPPER(screen_name) LIKE UPPER('%%')) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) LIMIT 0, 12[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) [0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;36;1mOpinion Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 1 AND created_at > '1999-10-09 23:55:36') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 4 AND created_at > '1999-10-09 23:55:36') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 7 AND created_at > '1999-10-09 23:55:36') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 11 AND created_at > '1999-10-09 23:55:36') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 2 AND created_at > '1999-10-09 23:55:36') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 5 AND created_at > '1999-10-09 23:55:37') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 8 AND created_at > '1999-10-09 23:55:37') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 12 AND created_at > '1999-10-09 23:55:37') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 3 AND created_at > '1999-10-09 23:55:37') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 6 AND created_at > '1999-10-09 23:55:37') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 10 AND created_at > '1999-10-09 23:55:37') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:55:37') [0m
Rendered common/_pagination (11.0ms)
Rendered movies/_search_movies (654.0ms)
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (277.0ms)
Rendered common/_sidebar (304.0ms)
Rendered common/_footer (3.0ms)
Completed in 1357ms (View: 1171, DB: 70) | 200 OK [http://ru.twiliked.net/search?q=&target=movie]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:56:05) [GET]
  Parameters: {"page"=>"2", "q"=>"", "target"=>"movie"}
  [4;35;1mMovie Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mSQL (13.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) [0m
  [4;35;1mUser Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%%') OR UPPER(screen_name) LIKE UPPER('%%')) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) LIMIT 12, 12[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) [0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;35;1mOpinion Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 14 AND created_at > '1999-10-09 23:56:05') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 17 AND created_at > '1999-10-09 23:56:06') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 20 AND created_at > '1999-10-09 23:56:06') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:56:06') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:56:06') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 18 AND created_at > '1999-10-09 23:56:06') [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 22 AND created_at > '1999-10-09 23:56:06') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 25 AND created_at > '1999-10-09 23:56:06') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 16 AND created_at > '1999-10-09 23:56:06') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:56:06') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 23 AND created_at > '1999-10-09 23:56:06') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 26 AND created_at > '1999-10-09 23:56:06') [0m
Rendered common/_pagination (15.0ms)
Rendered movies/_search_movies (780.0ms)
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (504.0ms)
Rendered common/_sidebar (532.0ms)
Rendered common/_footer (4.0ms)
Completed in 1561ms (View: 1326, DB: 96) | 200 OK [http://ru.twiliked.net/search?page=2&q=&target=movie]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:56:24) [GET]
  Parameters: {"page"=>"2", "q"=>"", "target"=>"movie"}
  [4;36;1mMovie Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) [0m
  [4;36;1mUser Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (37.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%%') OR UPPER(screen_name) LIKE UPPER('%%')) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) LIMIT 12, 12[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) [0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;36;1mOpinion Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 14 AND created_at > '1999-10-09 23:56:25') [0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 17 AND created_at > '1999-10-09 23:56:25') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 20 AND created_at > '1999-10-09 23:56:25') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:56:25') [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:56:25') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 18 AND created_at > '1999-10-09 23:56:25') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 22 AND created_at > '1999-10-09 23:56:25') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 25 AND created_at > '1999-10-09 23:56:25') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 16 AND created_at > '1999-10-09 23:56:25') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:56:25') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 23 AND created_at > '1999-10-09 23:56:25') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 26 AND created_at > '1999-10-09 23:56:26') [0m
Rendered common/_pagination (11.0ms)
Rendered movies/_search_movies (873.0ms)
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (459.0ms)
Rendered common/_sidebar (482.0ms)
Rendered common/_footer (4.0ms)
Completed in 1685ms (View: 1361, DB: 112) | 200 OK [http://ru.twiliked.net/search?page=2&q=&target=movie]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:56:34) [GET]
  Parameters: {"page"=>"2", "q"=>"", "target"=>"movie"}
  [4;35;1mMovie Columns (42.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) [0m
  [4;35;1mUser Columns (21.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (68.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%%') OR UPPER(screen_name) LIKE UPPER('%%')) [0m
  [4;35;1mMovie Load (18.0ms)[0m   [0mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) LIMIT 12, 12[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) [0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;35;1mOpinion Columns (22.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 14 AND created_at > '1999-10-09 23:56:34') [0m
  [4;35;1mSQL (6.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 17 AND created_at > '1999-10-09 23:56:35') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 20 AND created_at > '1999-10-09 23:56:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:56:35') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:56:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 18 AND created_at > '1999-10-09 23:56:35') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 22 AND created_at > '1999-10-09 23:56:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 25 AND created_at > '1999-10-09 23:56:35') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 16 AND created_at > '1999-10-09 23:56:35') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:56:35') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 23 AND created_at > '1999-10-09 23:56:35') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 26 AND created_at > '1999-10-09 23:56:35') [0m
Rendered common/_pagination (13.0ms)
Rendered movies/_search_movies (1114.0ms)
Rendered common/_navigation (8.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (269.0ms)
Rendered common/_sidebar (297.0ms)
Rendered common/_footer (4.0ms)
Completed in 1873ms (View: 1423, DB: 203) | 200 OK [http://ru.twiliked.net/search?page=2&q=&target=movie]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:56:42) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (3.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (6.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (11.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:56:42') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:56:42') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:56:42') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:56:42') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:56:42') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:56:42') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:56:43') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:56:43') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:56:43') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:56:43') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (263.0ms)
Rendered common/_sidebar (296.0ms)
Rendered common/_footer (4.0ms)
Completed in 2162ms (View: 1757, DB: 111) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MoviesController#search (for 127.0.0.1 at 2009-10-09 23:57:08) [GET]
  Parameters: {"page"=>"2", "q"=>"", "target"=>"movie"}
  [4;36;1mMovie Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mSQL (10.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) [0m
  [4;36;1mUser Columns (21.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (102.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (UPPER(name) LIKE UPPER('%%') OR UPPER(screen_name) LIKE UPPER('%%')) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) LIMIT 12, 12[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `movies` WHERE (UPPER(names) LIKE UPPER('%%')) [0m
Rendering template within layouts/opinions
Rendering movies/search
  [4;36;1mOpinion Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mSQL (34.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 14 AND created_at > '1999-10-09 23:57:09') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 17 AND created_at > '1999-10-09 23:57:10') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 20 AND created_at > '1999-10-09 23:57:10') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:57:10') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:57:10') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 18 AND created_at > '1999-10-09 23:57:10') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 22 AND created_at > '1999-10-09 23:57:10') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 25 AND created_at > '1999-10-09 23:57:10') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 16 AND created_at > '1999-10-09 23:57:10') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:57:10') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 23 AND created_at > '1999-10-09 23:57:10') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 26 AND created_at > '1999-10-09 23:57:10') [0m
Rendered common/_pagination (12.0ms)
Rendered movies/_search_movies (1543.0ms)
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (264.0ms)
Rendered common/_sidebar (299.0ms)
Rendered common/_footer (4.0ms)
Completed in 2287ms (View: 1828, DB: 225) | 200 OK [http://ru.twiliked.net/search?page=2&q=&target=movie]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-09 23:57:26) [GET]
  [4;35;1mCache Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (7.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;35;1mOpinion Load (17.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;36;1mOpinion Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (8.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (6.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (250.0ms)
Rendered common/_sidebar (285.0ms)
Rendered common/_footer (3.0ms)
Completed in 1907ms (View: 1674, DB: 97) | 200 OK [http://ru.twiliked.net/timeline]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-09 23:57:31) [GET]
  [4;35;1mCache Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (1.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (11.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (13.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-09 23:57:32') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-09 23:57:32') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-09 23:57:32') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-09 23:57:32') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-09 23:57:32') [0m
  [4;35;1mSQL (8.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-09 23:57:32') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-09 23:57:32') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-09 23:57:32') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-09 23:57:32') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-09 23:57:32') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;36;1mOpinion Load (5.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (241.0ms)
Rendered common/_sidebar (279.0ms)
Rendered common/_footer (4.0ms)
Completed in 2015ms (View: 1610, DB: 128) | 200 OK [http://ru.twiliked.net/top]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#by_movie (for 127.0.0.1 at 2009-10-09 23:57:40) [GET]
  Parameters: {"small_name"=>"forrest-gump"}
  [4;35;1mCache Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (7.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||by_movie|||forrest-gump') LIMIT 1[0m
  [4;35;1mMovie Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (7.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`small_name` = 'forrest-gump') LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`movie_id` = 24) ORDER BY created_at DESC LIMIT 0, 9[0m
Rendering template within layouts/opinions
Rendering opinions/by_movie
  [4;36;1mOpinion Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
Rendered common/_pagination (2.0ms)
Rendered common/_navigation (10.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (273.0ms)
Rendered common/_sidebar (308.0ms)
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`rating` = 1 AND `opinions`.`movie_id` = 24) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`rating` = 0 AND `opinions`.`movie_id` = 24) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`rating` = -1 AND `opinions`.`movie_id` = 24) [0m
Rendered common/_footer (5.0ms)
Completed in 1219ms (View: 952, DB: 73) | 200 OK [http://ru.twiliked.net/movie/forrest-gump]
  [4;36;1mSQL (186.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (29.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-10 02:23:18) [GET]
Redirected to http://ru.twiliked.net:3000/
Filter chain halted as [:check_domain] rendered_or_redirected.
Completed in 236ms (DB: 215) | 301 Moved Permanently [http://localhost/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-10 02:23:18) [GET]
  [4;36;1mCache Columns (216.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (13.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (111.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (54.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (19.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (34.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (21.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (31.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (26.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (13.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (11.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (15.0ms)
Rendered common/_search (8.0ms)
Rendered common/_langbar (7.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (224.0ms)
Rendered common/_sidebar (574.0ms)
Rendered common/_footer (10.0ms)
Completed in 4020ms (View: 1920, DB: 567) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:23:25) [GET]
  [4;36;1mCache Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (128.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (13.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:23:26') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:23:26') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:23:26') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:23:26') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:23:26') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:23:26') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:23:26') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:23:26') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:23:26') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:23:26') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (6.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (209.0ms)
Rendered common/_sidebar (234.0ms)
Rendered common/_footer (4.0ms)
Completed in 2016ms (View: 1529, DB: 243) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:23:51) [GET]
  [4;36;1mCache Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (12.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (15.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (12.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:23:52') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:23:52') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:23:52') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:23:52') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:23:52') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:23:52') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:23:52') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:23:52') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:23:52') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:23:53') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (220.0ms)
Rendered common/_sidebar (250.0ms)
Rendered common/_footer (4.0ms)
Completed in 2179ms (View: 1487, DB: 147) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:24:10) [GET]
  [4;36;1mCache Columns (29.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (60.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (52.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (31.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (21.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (35.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (92.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:24:11') [0m
  [4;36;1mSQL (46.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:24:12') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:24:12') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:24:12') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:24:12') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:24:12') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:24:12') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:24:12') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:24:12') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:24:12') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (894.0ms)
Rendered common/_sidebar (926.0ms)
Rendered common/_footer (6.0ms)
Completed in 4379ms (View: 2929, DB: 439) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:24:23) [GET]
  [4;36;1mCache Columns (27.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (135.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (214.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (19.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (21.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:24:24') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:24:24') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:24:25') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:24:25') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:24:25') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:24:25') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:24:25') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:24:25') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:24:25') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:24:25') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (6.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (551.0ms)
Rendered common/_sidebar (593.0ms)
Rendered common/_footer (4.0ms)
Completed in 3826ms (View: 2550, DB: 491) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:24:48) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (22.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (6.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (6.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:24:49') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:24:49') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:24:49') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:24:50') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:24:50') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:24:50') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:24:50') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:24:50') [0m
  [4;35;1mSQL (10.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:24:51') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:24:51') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (32.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (24.0ms)
Rendered common/_search (7.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (442.0ms)
Rendered common/_sidebar (507.0ms)
Rendered common/_footer (6.0ms)
Completed in 4345ms (View: 3675, DB: 170) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:25:16) [GET]
  [4;36;1mCache Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (81.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (19.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (5.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (22.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (22.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:25:17') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:25:17') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:25:17') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:25:17') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:25:17') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:25:17') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:25:17') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:25:17') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:25:17') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:25:17') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (230.0ms)
Rendered common/_sidebar (263.0ms)
Rendered common/_footer (4.0ms)
Completed in 2418ms (View: 1689, DB: 234) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:25:38) [GET]
  [4;36;1mCache Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (21.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (27.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:25:39') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:25:39') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:25:39') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:25:39') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:25:39') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:25:39') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:25:39') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:25:40') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:25:40') [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:25:40') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (273.0ms)
Rendered common/_sidebar (308.0ms)
Rendered common/_footer (5.0ms)
Completed in 2437ms (View: 1830, DB: 153) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:25:47) [GET]
  [4;36;1mCache Columns (21.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (23.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (106.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (53.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (85.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (14.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:25:48') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:25:48') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:25:49') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:25:49') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:25:49') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:25:49') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:25:49') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:25:49') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:25:49') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:25:49') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (236.0ms)
Rendered common/_sidebar (265.0ms)
Rendered common/_footer (5.0ms)
Completed in 2792ms (View: 1857, DB: 375) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:26:09) [GET]
  [4;36;1mCache Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (14.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (41.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (22.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (182.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (16.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (17.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:26:10') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:26:11') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:26:11') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:26:11') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:26:11') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:26:11') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:26:11') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:26:11') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:26:12') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:26:12') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (257.0ms)
Rendered common/_sidebar (290.0ms)
Rendered common/_footer (5.0ms)
Completed in 4148ms (View: 2951, DB: 379) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:26:29) [GET]
  [4;36;1mCache Columns (29.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (36.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (22.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (17.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (103.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (60.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:26:30') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:26:30') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:26:30') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:26:30') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:26:31') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:26:31') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:26:31') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:26:31') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:26:31') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:26:31') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (14.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (269.0ms)
Rendered common/_sidebar (312.0ms)
Rendered common/_footer (6.0ms)
Completed in 2615ms (View: 1781, DB: 337) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:26:42) [GET]
  [4;36;1mCache Columns (19.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (23.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (105.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:26:43') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:26:43') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:26:43') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:26:43') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:26:43') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:26:43') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:26:43') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:26:43') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:26:43') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:26:43') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (260.0ms)
Rendered common/_sidebar (296.0ms)
Rendered common/_footer (5.0ms)
Completed in 2509ms (View: 1812, DB: 231) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:27:02) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (19.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (5.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (73.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (104.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (39.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (18.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:27:03') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:27:03') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:27:03') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:27:03') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:27:03') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:27:03') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:27:03') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:27:03') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:27:03') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:27:04') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (4.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (226.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (271.0ms)
Rendered common/_sidebar (526.0ms)
Rendered common/_footer (5.0ms)
Completed in 3142ms (View: 1964, DB: 337) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:27:13) [GET]
  [4;36;1mCache Columns (30.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (12.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (86.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (34.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (11.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (9.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (8.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:27:14') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:27:14') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:27:14') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:27:14') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:27:14') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:27:14') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:27:14') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:27:14') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:27:14') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:27:14') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (6.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (439.0ms)
Rendered common/_sidebar (465.0ms)
Rendered common/_footer (10.0ms)
Completed in 2772ms (View: 2001, DB: 266) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:27:31) [GET]
  [4;36;1mCache Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (8.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (50.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (133.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (111.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (17.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (20.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (4.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:27:32') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:27:32') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:27:33') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:27:33') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:27:33') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:27:33') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:27:33') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:27:33') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:27:33') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:27:33') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (458.0ms)
Rendered common/_sidebar (492.0ms)
Rendered common/_footer (4.0ms)
Completed in 2777ms (View: 1974, DB: 419) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:27:51) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (5.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:27:51') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:27:51') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:27:52') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:27:52') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:27:52') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:27:52') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:27:52') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:27:52') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:27:52') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:27:52') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (6.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (220.0ms)
Rendered common/_sidebar (244.0ms)
Rendered common/_footer (3.0ms)
Completed in 2599ms (View: 1926, DB: 118) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (3.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:28:17) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (35.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (25.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (210.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (6.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (23.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (33.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:28:19') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:28:19') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:28:19') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:28:19') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:28:19') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:28:19') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:28:19') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:28:20') [0m
  [4;35;1mSQL (5.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:28:20') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:28:20') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (282.0ms)
Rendered common/_sidebar (324.0ms)
Rendered common/_footer (5.0ms)
Completed in 3684ms (View: 2182, DB: 427) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:28:36) [GET]
  [4;36;1mCache Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (5.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (28.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:28:37') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:28:38') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:28:38') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:28:38') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:28:38') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:28:38') [0m
  [4;35;1mSQL (10.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:28:38') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:28:38') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:28:38') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:28:39') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (29.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (101.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (11.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (291.0ms)
Rendered common/_sidebar (331.0ms)
Rendered common/_footer (5.0ms)
Completed in 4362ms (View: 3358, DB: 275) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:28:52) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (40.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (30.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (73.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (50.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (49.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (209.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:28:53') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:28:53') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:28:53') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:28:53') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:28:53') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:28:53') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:28:53') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:28:53') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:28:53') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:28:53') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (243.0ms)
Rendered common/_sidebar (276.0ms)
Rendered common/_footer (4.0ms)
Completed in 2615ms (View: 1702, DB: 525) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:29:13) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (18.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (9.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (38.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:29:14') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:29:14') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:29:14') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:29:14') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:29:14') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:29:14') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:29:14') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:29:14') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:29:14') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:29:14') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (8.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (343.0ms)
Rendered common/_sidebar (380.0ms)
Rendered common/_footer (5.0ms)
Completed in 2904ms (View: 2005, DB: 143) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:29:39) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (27.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (20.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (17.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:29:40') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:29:40') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:29:40') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:29:40') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:29:40') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:29:40') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:29:40') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:29:40') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:29:40') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:29:40') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (9.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (262.0ms)
Rendered common/_sidebar (302.0ms)
Rendered common/_footer (5.0ms)
Completed in 2389ms (View: 1843, DB: 145) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:30:09) [GET]
  [4;36;1mCache Columns (24.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (16.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (18.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (49.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (7.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (34.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:30:10') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:30:10') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:30:10') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:30:10') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:30:10') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:30:10') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:30:10') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:30:10') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:30:10') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:30:10') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (12.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (277.0ms)
Rendered common/_sidebar (322.0ms)
Rendered common/_footer (4.0ms)
Completed in 2721ms (View: 1924, DB: 227) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-10 02:30:41) [GET]
Redirected to http://ru.twiliked.net:3000/
Filter chain halted as [:check_domain] rendered_or_redirected.
Completed in 11ms (DB: 2) | 301 Moved Permanently [http://localhost/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-10 02:30:41) [GET]
  [4;36;1mCache Columns (28.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (10.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (33.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (10.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (495.0ms)
Rendered common/_sidebar (526.0ms)
Rendered common/_footer (6.0ms)
Completed in 2395ms (View: 1846, DB: 131) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:30:50) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (17.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (24.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (14.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:30:51') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:30:52') [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:30:52') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:30:52') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:30:52') [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:30:52') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:30:52') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:30:52') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:30:53') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:30:53') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (5.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (21.0ms)
Rendered common/_search (6.0ms)
Rendered common/_langbar (6.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (538.0ms)
Rendered common/_sidebar (639.0ms)
Rendered common/_footer (10.0ms)
Completed in 4544ms (View: 3555, DB: 157) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:31:23) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (10.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (3.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:31:24') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:31:24') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:31:24') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:31:24') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:31:24') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:31:24') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:31:24') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:31:24') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:31:24') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:31:24') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (14.0ms)
Rendered common/_search (4.0ms)
Rendered common/_langbar (5.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (365.0ms)
Rendered common/_sidebar (430.0ms)
Rendered common/_footer (7.0ms)
Completed in 3327ms (View: 2418, DB: 113) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:31:53) [GET]
  [4;36;1mCache Columns (19.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (21.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (21.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (19.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (46.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (112.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:31:54') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:31:55') [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:31:55') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:31:55') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:31:55') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:31:55') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:31:55') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:31:55') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:31:55') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:31:55') [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (11.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (636.0ms)
Rendered common/_sidebar (692.0ms)
Rendered common/_footer (6.0ms)
Completed in 3866ms (View: 2868, DB: 314) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (9.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (20.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:32:12) [GET]
  [4;36;1mCache Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (2.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (6.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (10.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (5.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (14.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (36.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (5.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (11.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (4.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:32:14') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:32:14') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:32:14') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:32:14') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:32:14') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:32:15') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:32:15') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:32:15') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:32:15') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:32:15') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (12.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (8.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (391.0ms)
Rendered common/_sidebar (458.0ms)
Rendered common/_footer (6.0ms)
Completed in 3967ms (View: 2757, DB: 216) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:32:28) [GET]
  [4;36;1mCache Columns (65.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (2.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (22.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (20.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (177.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (4.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (31.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:32:29') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:32:30') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:32:30') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:32:30') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:32:30') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:32:30') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:32:30') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:32:30') [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:32:30') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:32:31') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (12.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (381.0ms)
Rendered common/_sidebar (449.0ms)
Rendered common/_footer (5.0ms)
Completed in 3946ms (View: 2733, DB: 396) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:32:47) [GET]
  [4;36;1mCache Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (1.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (19.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (12.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:32:48') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:32:48') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:32:48') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:32:48') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:32:48') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:32:48') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:32:48') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:32:48') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:32:48') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:32:48') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (12.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (329.0ms)
Rendered common/_sidebar (384.0ms)
Rendered common/_footer (6.0ms)
Completed in 2977ms (View: 2331, DB: 134) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:33:10) [GET]
  [4;36;1mCache Columns (55.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (25.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (11.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (53.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (26.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:33:12') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:33:12') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:33:12') [0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:33:12') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:33:12') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:33:12') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:33:13') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:33:13') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:33:13') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:33:13') [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (11.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (4.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (425.0ms)
Rendered common/_sidebar (485.0ms)
Rendered common/_footer (6.0ms)
Completed in 4552ms (View: 3166, DB: 287) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:33:59) [GET]
  [4;36;1mCache Columns (51.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (17.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (40.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (10.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (5.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (4.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (5.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (17.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (25.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (5.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:34:00') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:34:00') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:34:00') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:34:00') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:34:00') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:34:00') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:34:00') [0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:34:00') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:34:00') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:34:00') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (21.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (5.0ms)
Rendered common/_search (1.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (203.0ms)
Rendered common/_sidebar (224.0ms)
Rendered common/_footer (4.0ms)
Completed in 2574ms (View: 1536, DB: 271) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:34:11) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (5.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (9.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (12.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:34:11') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:34:12') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:34:12') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:34:12') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:34:12') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:34:12') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:34:12') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:34:12') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:34:12') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:34:12') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (6.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (441.0ms)
Rendered common/_sidebar (466.0ms)
Rendered common/_footer (5.0ms)
Completed in 2066ms (View: 1709, DB: 116) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:38:17) [GET]
  [4;36;1mCache Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (3.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (10.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (10.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (13.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:38:18') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:38:18') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:38:18') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:38:18') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:38:18') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:38:18') [0m
  [4;35;1mSQL (6.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:38:18') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:38:18') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:38:18') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:38:18') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (12.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (4.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (15.0ms)
Rendered common/_search (3.0ms)
Rendered common/_langbar (3.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (543.0ms)
Rendered common/_sidebar (580.0ms)
Rendered common/_footer (3.0ms)
Completed in 2655ms (View: 2125, DB: 161) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-10 02:40:00) [GET]
Redirected to http://ru.twiliked.net:3000/
Filter chain halted as [:check_domain] rendered_or_redirected.
Completed in 6ms (DB: 0) | 301 Moved Permanently [http://localhost/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#timeline (for 127.0.0.1 at 2009-10-10 02:40:00) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (4.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||timeline') LIMIT 1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = -1) ORDER BY created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`rating` = 0) ORDER BY created_at DESC LIMIT 5[0m
Rendering template within layouts/opinions
Rendering opinions/timeline
  [4;35;1mOpinion Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (11.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mUser Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (6.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (3.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 46) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 35) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 33) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 53) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
Rendered common/_navigation (7.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (227.0ms)
Rendered common/_sidebar (250.0ms)
Rendered common/_footer (4.0ms)
Completed in 1905ms (View: 1707, DB: 86) | 200 OK [http://ru.twiliked.net/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:40:04) [GET]
  [4;36;1mCache Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (6.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (25.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (17.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (13.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:40:04') [0m

ActionView::TemplateError (undefined method `rating' for #<#<Class:0x85ee644>:0x85ee5f4>) on line #10 of app/cells/movie/for_top.html.erb:
7:     <table>
8:       <tr>
9:         <td class = "rating" style = "font-size: 3em; font-weight: bold; height: 59px">
10:           <%= rating(@rating) %>
11:         </td>
12: 
13:         <td class = "movie_name">

    app/cells/movie/for_top.html.erb:10
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (276.0ms)
Rendered rescues/_request_and_response (31.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:42:08) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (7.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (20.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (15.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (35.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (Missing helper file helpers/movies_helper_helper.rb) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/cells/movie_cell.rb:2
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (361.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:43:08) [GET]
  [4;35;1mCache Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `caches`[0m
  [4;36;1mCache Load (44.0ms)[0m   [0;1mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;36;1mOpinion Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mMovie Columns (37.0ms)[0m   [0mSHOW FIELDS FROM `movies`[0m
  [4;36;1mMovie Load (42.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;35;1mMovie Load (2.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;36;1mUser Columns (21.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (111.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top

ActionView::TemplateError (Missing helper file helpers/movie_helper.rb) on line #7 of app/views/opinions/top.html.erb:
4:       <h2><%= t 'top.top_movies' %></h2>
5: 
6:       <% @top_movies.each do |movie| %>
7:           <%= render_cell :movie, :for_top, :movie => movie, :time_interval => @time_interval %>
8:       <% end %>
9:     </td>
10: 

    app/cells/movie_cell.rb:2
    app/views/opinions/top.html.erb:7
    app/views/opinions/top.html.erb:6:in `each'
    app/views/opinions/top.html.erb:6
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:95:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `each'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:92:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:23:in `start'
    F:/portsoft/Ruby1.8/lib/ruby/1.8/webrick/server.rb:82:in `start'
    -e:1:in `load'
    -e:1

Rendered rescues/_trace (299.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:43:34) [GET]
  [4;36;1mCache Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (16.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (24.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (11.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (83.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (6.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:43:35') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:43:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:43:35') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:43:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:43:35') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:43:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:43:35') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:43:35') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:43:36') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:43:36') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (2.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (2.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (11.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (6.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (342.0ms)
Rendered common/_sidebar (371.0ms)
Rendered common/_footer (5.0ms)
Completed in 3325ms (View: 2620, DB: 240) | 200 OK [http://ru.twiliked.net/top]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing OpinionsController#top (for 127.0.0.1 at 2009-10-10 02:45:23) [GET]
  [4;36;1mCache Columns (74.0ms)[0m   [0;1mSHOW FIELDS FROM `caches`[0m
  [4;35;1mCache Load (5.0ms)[0m   [0mSELECT * FROM `caches` WHERE (`caches`.`key` = 'ru|||opinions|||top|||alltime') LIMIT 1[0m
  [4;36;1mOpinion Load (14.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) DESC, count(id) DESC, created_at DESC LIMIT 5[0m
  [4;35;1mOpinion Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mMovie Columns (21.0ms)[0m   [0;1mSHOW FIELDS FROM `movies`[0m
  [4;35;1mMovie Load (15.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 49) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 43) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 37) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 36) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT movie_id, movie_id as created_at FROM `opinions` GROUP BY movie_id HAVING count(id) > 1 ORDER BY avg(rating) ASC, count(id) ASC, created_at DESC LIMIT 5[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 27) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 13) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 15) [0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT user_id, count(id) as opinion_count, user_id as created_at FROM `opinions` GROUP BY user_id ORDER BY opinion_count DESC, created_at DESC LIMIT 5[0m
  [4;35;1mUser Columns (34.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (14.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/opinions
Rendering opinions/top
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 24 AND created_at > '1999-10-10 02:45:24') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 49 AND created_at > '1999-10-10 02:45:24') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 43 AND created_at > '1999-10-10 02:45:24') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 37 AND created_at > '1999-10-10 02:45:24') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 36 AND created_at > '1999-10-10 02:45:24') [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 27 AND created_at > '1999-10-10 02:45:24') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 19 AND created_at > '1999-10-10 02:45:24') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 13 AND created_at > '1999-10-10 02:45:24') [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 15 AND created_at > '1999-10-10 02:45:24') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT avg(`opinions`.rating) AS avg_rating FROM `opinions` WHERE (movie_id = 61 AND created_at > '1999-10-10 02:45:24') [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 7) [0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 7) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 47) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 13) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 13) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 55) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 1) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 1) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 9) [0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 9) ORDER BY created_at DESC LIMIT 1[0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `opinions` WHERE (`opinions`.`user_id` = 10) [0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` WHERE (`opinions`.`user_id` = 10) ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mMovie Load (1.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 56) [0m
Rendered common/_navigation (5.0ms)
Rendered common/_search (2.0ms)
Rendered common/_langbar (2.0ms)
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mSELECT * FROM `opinions` ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 19) [0m
  [4;36;1mMovie Load (1.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 64) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 61) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `movies` WHERE (`movies`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `movies` WHERE (`movies`.`id` = 66) [0m
Rendered common/_sidebar_last_opinions (186.0ms)
Rendered common/_sidebar (212.0ms)
Rendered common/_footer (6.0ms)
Completed in 1910ms (View: 1443, DB: 239) | 200 OK [http://ru.twiliked.net/top]
